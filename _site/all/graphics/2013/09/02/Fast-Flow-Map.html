<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
	<meta http-equiv="content-type" content="text/html; charset=UTF-8"  />
	<meta name="description" content="Kyle Halladay Game Development" />
	<meta name="keywords" content="life,code,software,development,games,ludology,indie" />
	<link rel="stylesheet" type="text/css" href="/css/default.css" />
	<link rel="stylesheet" type="text/css" href="/css/pretty_code.css" />
	<link rel="stylesheet" href="/css/highlight_default.css">
	<script src="/javascripts/highlight.pack.js"></script>
	<script>hljs.initHighlightingOnLoad();</script>

<title>Kyle Halladay - Toronto Game Developer</title>
</head>

<body>
	<div id="wrap">
		<div id="header">
			<p id="toplinks">
			</p>
			<h1><a href="/" class="logo"><div id="logo"></div></a><a href="/" class="logo">K</a><a href="/" class="logo">y</a><a href="/" class="logo">l</a><a href="/" class="logo">e</a> <a href="/" class="logo">H</a><a href="/" class="logo">a</a><a href="/" class="logo">l</a><a href="/" class="logo">l</a><a href="/" class="logo">a</a><a href="/" class="logo">d</a><a href="/" class="logo">a</a><a href="/" class="logo">y</a></h1>
			<div class="slogan"> 
					<a href="/" class="paleorange">Home</a> ||
					<a href="/archive.html" class="paleorange">Archive</a> ||
					<a href="/portfolio.html" class="paleorange">Games</a> ||
					<a href="/graphics.html" class="paleorange">Graphics</a> ||
					<a href="/aboutme.html" class="paleorange">About Me</a>
			</div>
	</div>
<div id="content">  
  <span class = "post_title">
<h2>Fast Flow Map</h2>
</span>

<div id="post">
<br>
<img src="/images/Fast Flow Map.png" width="100" height="100" align="right" style="padding-right:15px"><p>My Fast Flow Map shader was born out of a need for an extremely fast river effect for a mobile game. Since it’s designed to be as fast as possible, there are no lighting calculations, no colour multiplications, no bells or whistles.</p>
<h4>Here's how it works: </h4>
<p>The system is a shader and a script. The script needs a reference to the water material set in the inspector, and it will control all the texture scrolling needed for the effect to work. Moving this out of the shader saves us a bunch of frame time, and gives you an easy way to extend the system if you have a need to sync multiple materials to the same offsets.</p>

<p>The shader takes three textures as input. The ground texture, the water texture, and the flow map. Examples are provided in the repo.</p>

<p>The flow map controls what sections of the material have water vs ground (or a mix of both), and what direction the texture coords on that spot are scrolling. The red channel of a pixel controls the x movement there, the green channel controls y movement, and the blue channel controls the blend between the water and ground texture. For movement channels, #77 is neutral, allowing movement in either direction by going above or below that value.</p>

<p>A web demo of this project is available <a href="/demos/fastflowmap/flowmap_demo.html">here</a></p>

<p>The demo uses the same flow map as the Flow plugin on the asset store. I promise the system is mine, but since I designed the system to mimic the look of Flow’s basic mobile shader, if you don’t believe me, I’d say I did my job :D (check the repo to be convinced). If you’re looking for a much more full featured version of this effect, definitely go check out Flow.</p>

<p>This project is open source! Check out the repo <a href="https://github.com/khalladay/FastFlowMap">here</a></p>

<p><img src="/images/project_screens/flowmap_screen.png" alt="Screen 1" /> <img src="/images/post_images/2013-09-02/flow_map.png" alt="Screen 2" /></p>

<p>Pull requests are very welcome if you want to add or fix up something before I get to it :D</p>
</div>


<div id="related">
  <h3>Recent Posts</h3>
  <ul class="posts">
    
      <li><span>18 Feb 2014</span> &raquo; <a href="/all/blog/2014/02/18/Fresnel-Shaders-From-The-Ground-Up.html">The Basics of Fresnel Shading</a></li>
    
      <li><span>08 Feb 2014</span> &raquo; <a href="/all/blog/2014/02/08/Introducing-UUNit-SL-unit-testing-for-shaders.html">Unit Testing Shaders with UUnit-SL</a></li>
    
      <li><span>12 Jan 2014</span> &raquo; <a href="/all/blog/2014/01/12/Runtime-Shader-Compilation-Unity.html">Creating GLSL Shaders at Runtime in Unity3D</a></li>
    
      <li><span>06 Jan 2014</span> &raquo; <a href="/all/blog/2014/01/06/Hacking-My-Attention-Span.html">Automating SelfControl in OS X Mavericks</a></li>
    
      <li><span>24 Dec 2013</span> &raquo; <a href="/all/blog/2013/12/24/Ray-Sphere-Intersection.html">Ray-Sphere Intersection with Simple Math</a></li>
    
      <li><span>10 Nov 2013</span> &raquo; <a href="/all/blog/2013/11/10/Libpd-and-Unity.html">Combining Pure Data and Unity</a></li>
    
      <li><span>13 Oct 2013</span> &raquo; <a href="/all/blog/2013/10/13/Multi-Light-Diffuse.html">Writing Multi-Light Pixel Shaders in Unity</a></li>
    
      <li><span>28 Sep 2013</span> &raquo; <a href="/all/blog/2013/09/28/How-to-dissolve-effect.html">Making a Dissolve Effect with Surface Shaders</a></li>
    
      <li><span>02 Sep 2013</span> &raquo; <a href="/all/blog/2013/09/02/A-Simple-Flowmap.html">A Simple Flow Map</a></li>
    
      <li><span>13 Aug 2013</span> &raquo; <a href="/all/blog/2013/08/13/Coloured-Shadows.html">Multi Coloured Shadows In Unity</a></li>
    
  </ul>
</div>

<br>
<br>
</div>

<div id="footer">

	<a href="mailto:k.mj.halladay@gmail.com" class="footerlink">E-mail</a> |
	<a href="https://github.com/khalladay" class="footerlink">Github</a> |
    <a href="http://ca.linkedin.com/pub/kyle-halladay/2b/658/a14/" class="footerlink">LinkedIn</a> |
	<a href="https://www.shadertoy.com/user/khalladay" class="footerlink">ShaderToy</a> |
    <a href="http://twitter.com/khalladay" class="footerlink">Twitter</a>

<p>&copy; 2013 <a href="/aboutme.html" class="footerlink">Kyle Halladay</a>

</div>
</div>

<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-40292745-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</body>
</html>

