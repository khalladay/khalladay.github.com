<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
	<meta http-equiv="content-type" content="text/html; charset=UTF-8"  />
	<meta name="description" content="Kyle Halladay Game Development" />
	<meta name="keywords" content="life,code,software,development,games,ludology,indie" />
	<link rel="stylesheet" type="text/css" href="/css/default.css" />
	<link rel="stylesheet" type="text/css" href="/css/pretty_code.css" />

<title>Kyle Halladay - Toronto Game Developer</title>
</head>

<body>
	<div id="wrap">
		<div id="header">
			<p id="toplinks">

			</p>

			<h1><a href="/"><div id="logo"></div><span class="fade">Kyle Halladay</span></a></h1>
			<div class="slogan"> 
					<a href="/os.html" class="red">Life</a> ||
					<a href="/os.html" class="lime">Game Dev</a> ||
					<a href="/life.html" class="purple">My Work</a> ||
					<a href="/life.html" class="paleorange">About Me</a>
			</div>

	</div>
<div id="content">  
  <div id="post">
<h2>Rails Shock</h2>
<p class="publish_date">12 Apr 2008</p>
<p>I learned software development on the job.  The technology was all MS: <span class="caps">ASP</span> Classic and <span class="caps">SQL</span> Server.  I took a class on object oriented programming and along came .Net.  It was great.  I would attend training classes and it seemed nobody was interested in OO or elegance or writing short specific methods or Web Services.  They were interested in drag-and-drop.  I knew more .Net than my teachers.</p>
<p>I got a job somewhere else.  Business automation and reporting using <span class="caps">ASP</span>.Net.  Life was good.  Life quality at work slowly deteriorated over the years.  The code base got bigger, the staff remained the same, simple changes were a thing of the past: every change broke something else.  Then my eyes were opened to something called Unit Testing and Test Driven Development.  This stuff rocks! There was hope&#8230; NUnit would save us because we&#8217;d catch the bugs sooner. But how?  We can&#8217;t test the button click event that sends the exec <span class="caps">SQL</span> to the database&#8230;  the TableAdapter classes are, for all intents and purposes, attached to the database.  We can&#8217;t test that stuff&#8230; Here&#8217;s how: you learn something called <a href="http://www.codeproject.com/KB/architecture/NHibernateBestPractices.aspx"><span class="caps">MVP</span> (Model View Presenter) and NHibernate.</a>  If I remember correctly if you want a web page to display something simple&#8230; let&#8217;s say a blog post.  Here is what you do:</p>
<ul>
<li><p>You&#8217;ll need to establish separate projects as discussed in Martin Fowler&#8217;s best practice article (link above).  .Core, .Web, .Presenters, .Data, .Tests, and a few others.  I found that in practice I ended up creating .Core, .Core.PersistenceTests, .Core.Tests, .Data, .Facade, .Presenters, .WebServices, .WebServices.Tests, .Utils, and a ConsoleApp (for WebService integration tests).</p>

<pre><code>  Then you can start coding!
</code></pre></li>
<li><p>Write the tests for the Model (the Blog business object) while you develop the properties of the blog post (ID,Title,BodyText,DatePosted)</p></li>
<li>Write a data access interface as well as a data access interface factory</li>
<li>You&#8217;ll need to write an implementation for each of those interfaces.  Lucky for us we can use generics so it&#8217;s not a ton of code to write.</li>
<li>Don&#8217;t forget to write your persistence tests &#8211; and be sure to wrap each test in a transaction (SetUp and TearDown) and roll it back because you don&#8217;t want to change the state of the database.  I never found a good way to write rigorous persistence tests because of the database dependancy so basically they were just to make sure the fields were mapped.</li>
<li>Make your persistence tests pass by writing the NHibernate <span class="caps">XML</span> file that maps the relational database to your business object.</li>
<li>Now you can start writing your presenter class with the tests that go along with it.  </li>
<li>Once that is in place you can spend a lot of time wiring up the properties of your view to the presenter and actually build your UI.</li>
<li>Manually test your UI.</li>
</ul>
<p>This was the only hope for writing large code bases.  I learned this and felt like I had mastered it all.  I had found an established pattern for software creation and I just needed to follow it in order to have success.</p>
<h4>Along came Ruby&#8230;</h4>
<p>Ruby on Rails is a full stack web application framework which is said to be &#8220;A bunch of stuff that makes developers happy.&#8221;  &#8220;Rails&#8221; is the web framework part and &#8220;Ruby&#8221; is the programming language.  To a .Net guy Ruby is like a magician of a language.  You can tell it to do things that you wouldn&#8217;t even dream of considering to think about wondering about with regard to other languages.  I didn&#8217;t learn software development by hacking perl or python or bash or &#8230; any other *nix type technology.  When you only know one technology, only one technology exists.</p>
<p>In Ruby on Rails you don&#8217;t really do any of the above.  When you learn this you don&#8217;t know how it can be possible and you don&#8217;t know what to do. You were standing on a solid balcony of software development and it slid out from under you &#8211; you have to cling to the bricks that are jutting out of the wall to keep from falling.  Everything I &#8220;needed&#8221; to know about writing software was now rendered unnecessary.  I&#8217;m starting over.</p>
<p>In Rails you don&#8217;t think &#8220;I want the app to do X. I will write the code to do X.&#8221;  Instead you need to start thinking something like this &#8220;I want the app to do X. What existing function or plugin already does this? I shall look for it.&#8221;</p>
<p>It&#8217;s a huge paradigm shift but as I realize these things I get better at finding solutions.  It is a very fun journey &#8211; and I have only just begun.</p>
</div>


<div id="related">
  <h3>Possibly Related Posts</h3>
  <ul class="posts">
    
      <li><span>26 Mar 2012</span> &raquo; <a href="/all/life/2012/03/26/steep-learning-curve-is-a-misnomer.html">Steep Learning Curve</a></li>
    
      <li><span>16 Sep 2011</span> &raquo; <a href="/all/rails/2011/09/16/pgerror-unable-to-connect-on-port-5432.html">PGError Unable to connect on port 5432</a></li>
    
      <li><span>07 Feb 2011</span> &raquo; <a href="/all/rails/2011/02/07/slideshowpro-director-ruby-wrapper.html">SlideShowPro Director Ruby API Wrapper</a></li>
    
  </ul>
</div>

<!-- This is for code colorization which doesn't seem to work very well in IE... i guess I don't care very much -->
<script language="javascript" src="http://communicatopia.s3.amazonaws.com/js/shCore.js"></script>
<script language="javascript" src="http://communicatopia.s3.amazonaws.com/js/shBrushRuby.js"></script>
<script language="javascript" src="http://communicatopia.s3.amazonaws.com/js/shBrushPhp.js"></script>
<script language="javascript" src="http://communicatopia.s3.amazonaws.com/js/shBrushXml.js"></script>
<script language="javascript" src="http://communicatopia.s3.amazonaws.com/js/shBrushCss.js"></script>
<script language="javascript" src="http://communicatopia.s3.amazonaws.com/js/shBrushBash.js"></script>
<script language="javascript" src="http://communicatopia.s3.amazonaws.com/js/shBrushJScript.js"></script>
<script language="javascript">
dp.SyntaxHighlighter.ClipboardSwf = 'http://communicatopia.s3.amazonaws.com/js/clipboard.swf';
//name, showGutter, showControls, collapseAll, firstLine , showColumns
dp.SyntaxHighlighter.HighlightAll('code',false, false,false,1,false);
</script>
<br>
<br>
</div>

<div id="footer">

	<a href="mailto:k.mj.halladay@gmail.com" class="footerlink">E-mail</a> |
    <a href="http://ca.linkedin.com/pub/kyle-halladay/2b/658/a14/" class="footerlink">LinkedIn</a> |
    <a href="http://twitter.com/khalladay" class="footerlink">Twitter</a>

<p>&copy; 2013 <a href="/about.html" class="footerlink">Kyle Halladay</a>

</div>
</div>
</body>
</html>

